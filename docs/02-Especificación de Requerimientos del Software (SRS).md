**Nombre propuesto del documento**

`1-SRS-BotAsistenciaInternaTelegram.d`

---

**Contenido mínimo recomendado**

| Nº | Sección                         | Descripción técnica                                                                                                                                                                                                                                                      |
| -- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1  | Introducción                    | Propósito del SRS, público objetivo, ámbito de aplicación.                                                                                                                                                                                                               |
| 2  | Referencias                     | Normas, documentos previos (`0-Vision.md`), enlaces API Telegram, Google, Gemini.                                                                                                                                                     |
| 3  | Definiciones y acrónimos        | Tabla de términos (SKU, webhook, ngrok, ISO 9001, SRS, etc.).                                                                                                                                                                                                            |
| 4  | Descripción general del sistema | Función principal, contexto, diagramas de nivel 0 y flujo de información.                                                                                                                                                                                                |
| 5  | Requisitos funcionales          | RF-01 Procesar webhook Telegram; RF-02 Consultar stock en MySQL; RF-03 Recuperar procedimiento ISO por palabra clave; RF-04 Generar respuesta con API Gemini; RF-05 Registrar interacción en tabla `telegram_update`. Cada requisito con prioridad, fuente y aceptación. |
| 6  | Requisitos no funcionales       | Rendimiento ≤5 s por respuesta; Disponibilidad 99 %; Seguridad de credenciales en variables de entorno; Compatibilidad Python 3.12; Base de datos MySQL 8.2; Uso exclusivo de `runserver` para entorno inicial.                                                          |
| 7  | Requisitos de interfaz externa  | 7.1 API Telegram (`setWebhook`, `sendMessage`); 7.2 Google Sheets API (`spreadsheets.values.get`); 7.3 Google Drive export; 7.4 Gemini `v1beta/models/gemini-pro:generateContent`; 7.5 ngrok HTTPS túnel.                                                                |
| 8  | Requisitos de base de datos     | Esquema tabular para `product_stock`, `iso_documents`, `telegram_update`; restricciones de clave primaria y colación `utf8mb4`.                                                                                                                                          |
| 9  | Restricciones de diseño         | Sin uso de contenedores, sin Nginx, sin Gunicorn, sin cron; ejecución monoproceso con Django `runserver`; túnel ngrok obligatorio.                                                                                                                                       |
| 10 | Atributos del sistema           | Portabilidad, mantenibilidad (PEP 8), fiabilidad, auditoría (trazabilidad de mensajes).                                                                                                                                                                                  |
| 11 | Requisitos de seguridad         | Cifrado TLS provisto por ngrok; almacenamiento de API keys fuera del repositorio; principio de mínimo privilegio en MySQL.                                                                                                                                               |
| 12 | Casos de uso                    | Diagrama UML y descripción: CU1 Consulta de stock; CU2 Consulta de procedimiento ISO; CU3 Registro de interacción.                                                                                                                                                       |
| 13 | Diagramas de secuencia          | Flujos de CU1 y CU2: Telegram → Django → MySQL/Google/Gemini → Telegram.                                                                                                                                                                                                 |
| 14 | Suposiciones y dependencias     | Conectividad a Internet estable; cuentas Google válidas; token Telegram activo.                                                                                                                                                                                          |
| 15 | Verificación y validación       | Métodos de prueba para cada RF, criterios de aceptación, métricas de éxito.                                                                                                                                                                                              |
| 16 | Aprobaciones                    | Firmas o fechas de aprobación por responsable de TI y responsables de área.                                                                                                                                                                                              |
